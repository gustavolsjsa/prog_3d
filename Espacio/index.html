<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>DEF y USE</title>
    <script src='https://www.x3dom.org/x3dom/release/x3dom-full.js'></script>
    <link rel='stylesheet' href='https://www.x3dom.org/x3dom/release/x3dom.css'>
    <style>
        body {
            background-color: grey;
            color: white;
            font-family: sans-serif;
            margin: 0;
        }

        .fondo {
            width: 100vw;
            height: 100vh;
        }
    </style>

</head>

<body>
    <X3D class="fondo">
        <Scene>
            <!-- ---------------EJES------------------------- -->
            <Transform>
                <inline url="ejes.x3d"></inline>
            </Transform>


            <Transform DEF="planta_baja">
                <!-- -------------FILA ORIGINAL---------- -->
                <Transform DEF="Fila">
                    <Transform DEF='Arco'>
                        <inline DEF="ARCOm" url="arco.x3d"></inline>
                    </Transform>

                    <Transform translation="8 0 0">
                        <shape USE="ARCOm" />
                    </Transform>

                    <Transform translation="16 0 0">
                        <shape USE="ARCOm" />
                    </Transform>

                    <Transform translation="24 0 0">
                        <shape USE="ARCOm" />
                    </Transform>

                    <Transform translation="32 0 0">
                        <shape USE="ARCOm" />
                    </Transform>

                    <Transform translation="40 0 0">
                        <shape USE="ARCOm" />
                    </Transform>

                    <Transform translation="48 0 0">
                        <shape USE="ARCOm" />
                    </Transform>
                </Transform>
                <!-- -------------FILA COPIA 1---------- -->
                <Transform translation="0 0 49">
                    <Transform USE="Fila">
                        <!-- Aqui USE esta dentro de un transform, no de un shape -->
                    </Transform>
                </Transform>
                <!-- -------------FILA COPIA 2---------- -->
                <Transform rotation="0 1 0 -1.57">
                    <Transform USE="Fila">
                        <!-- Aqui USE esta dentro de un transform, no de un shape -->
                    </Transform>
                </Transform>
                <!-- -------------FILA COPIA 3---------- -->
                <Transform rotation="0 1 0 -1.57" translation="49 0 ">
                    <Transform USE="Fila">
                        <!-- Aqui USE esta dentro de un transform, no de un shape -->
                    </Transform>
                </Transform>
            </Transform>


            <!-- -------------Planta 1---------- -->
            <Transform translation="0 10 0">
                <Transform USE="planta_baja">
                </Transform>
            </Transform>

            <!-- -------------Piso---------- -->
            <Transform translation="20 0 20">
                <Shape>
                    <Appearance>
                        <ImageTexture url=".//imagen/piso.jpg">
                        </ImageTexture>
                        <TextureTransform scale="5, 5"></TextureTransform>
                    </Appearance>
                    <Box size="90 4 90"></Box>
                </Shape>
            </Transform>

            <!-- -------------  Paredes original---------- -->
            <Transform DEF="Paredes" translation="25 15 5" rotation="1 0 0 -1.57">
                <Shape>
                    <Appearance>
                        <ImageTexture url=".//imagen/Marmol.jpg">
                        </ImageTexture>
                        <TextureTransform scale="5, 5"></TextureTransform>
                    </Appearance>
                    <Box size="40 2 25"></Box>
                </Shape>
            </Transform>

            <!-- -------------Paredes COPIA 1---------- -->
            <Transform translation="0 0 40">
                <Transform USE="Paredes">
                    <!-- Aqui USE esta dentro de un transform, no de un shape -->
                </Transform>
            </Transform>

            <!-- -------------Paredes COPIA 2---------- -->
            <Transform translation="10 0 0" rotation="0 1 0 -1.57">
                <Transform USE="Paredes">
                    <!-- Aqui USE esta dentro de un transform, no de un shape -->
                </Transform>
            </Transform>

            <!-- -------------Paredes COPIA 3---------- -->
            <Transform translation="50 0 0" rotation="0 1 0 -1.57">
                <Transform USE="Paredes">
                    <!-- Aqui USE esta dentro de un transform, no de un shape -->
                </Transform>
            </Transform>



            <!-- -------------  Techo original---------- -->
            <Transform DEF="Paredes" translation="25 28 25" rotation="0 0 1 .05">
                <Shape>
                    <Appearance>
                        <ImageTexture url=".//imagen/floorboard.jpg">
                        </ImageTexture>
                        <TextureTransform scale="5, 5"></TextureTransform>
                    </Appearance>
                    <Box size="80 1 80"></Box>
                </Shape>
            </Transform>

            <!-- ------------------Cielo-------------- -->
            <Background skyColor="
            0.21 0.18 0.66,
            0.2 0.44 0.85,
            0.51 0.81 0.95,
            0.77 0.80 0.82" skyAngle="0.5 1.5 1.57" groundColor="
            0.6 0.7 0.1,
            0.4 0.7 0.2,
            0.1 0.6 0.1,           
            0 0.3 0.1" groundAngle="0.9 0.5 1.57">
            </Background>
        </Scene>
    </X3D>
</body>

</html>